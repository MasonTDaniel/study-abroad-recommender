{% extends 'results.html' %}
{% block organizationCards %}
  <!-- display search criteria from previous search -->
  <!--Adjusted drop down categories to our categories, need to figure out where these reference - Ryan-->
  <span id="resultsBadges">
    {% if language == None %}
      <span class="col-sm-12 col-md-5 display-results">Any Language</span>
    {% else %}
      <span class="col-sm-12 col-md-5 display-results"><strong>Language:</strong> {{ language }}</span>
    {% endif %}
    {% if location != None %}
      <span class="col-sm-12 col-md-5 display-results"><strong>In </strong>{{ location }}</span>
    {% else %}
      <span class="col-sm-12 col-md-5 display-results">Any Location</span>
    {% endif %}
    {% if major == None %}
      <span class="col-sm-12 col-md-5 display-results">Any Major</span>
    {% else %}
      <span class="col-sm-12 col-md-5 display-results"><strong>Major:</strong> {{ major }}</span>
    {% endif %}
    {% if term == None %}
      <span class="col-sm-12 col-md-5 display-results">Any Term</span>
    {% else %}
      <span class="col-sm-12 col-md-5 display-results"><strong>Term:</strong> {{ term }}</span>
    {% endif %}
  </span>

  <!-- Render cards without addresses: -->
  <!--where is this organization at?? When we find that then we can just change the data instances to ours 
  and change organization to study abroad program -Ryan-->
{% for organization in results %}
  <div class="card result">
    <div class="card-body">
      <h5 class="card-title"><strong>{{ organization.name }}</strong></h5>
      <h6 class="card-subtitle mb-2 text-muted"> 
        {% comment %} <span class="col-sm-12 col-md-3 display-results">{{ organization.category }}</span>
        <span class="col-sm-12 col-md-3 display-results">{{ organization.location }}</span> {% endcomment %}
      </h6>
      <p class="card-text"> <b>Mission:</b> {{ organization.mission }}</p>

      <!--what does the == "." mean -Ryan-->
      {% if organization.opportunities == "." or organization.opportunites == '' %} 
       <p class="card-opp"> <b>Volunteering Opportunities:</b> N/A</p>
      {% else %}
      <p class="card-opp"> <b>Volunteering Opportunities:</b> {{ organization.opportunities }}</p>

      {% endif %}
      {% comment %} TODO:  if it's . don't display website {% endcomment %}
      {% comment %} {{ print(organization.opportunities) }} {% endcomment %}
      {% if organization.website == '.' %}

      {% else %}
      <button type="button" class="fill" onClick="openSite ( {{ organization.website|stringformat:'a' }} )">Website</button>
      {% endif %}
      <button type="button" class="fill mapMarkerToggle" onClick="addOrganizationPin( {{ organization.orgID }}, {{ json_data }}, {{ organization.name|stringformat:'a' }} )">Show on Map</button>
    </div>
  </div> 


  {% empty %} <!-- results QuerySet is empty -->
  <div class="card result">
    <div class="card-body">
      <h5 class="card-title"><strong>No study abroad programs found</strong></h5>
      <p class="card-text"> Refine your search above </p>
    </div>
  </div>

  {% endfor %}

{% endblock %}